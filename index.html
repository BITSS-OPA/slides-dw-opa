<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>An Open Policy Analysis for Deworming Interventions</title>
    <meta charset="utf-8" />
    <meta name="author" content="Fernando Hoces de la Guardia, BITSS" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# An Open Policy Analysis for Deworming Interventions
## BITSS Annual Meeting
### Fernando Hoces de la Guardia, BITSS
### 07 January 2021 | <a href="https://github.com/BITSS-OPA/slides-dw-opa">slides</a>

---

count: false
background-image: url("Images/BITSSlogo.png"), url(Images/cega.png)
background-size: 600px, 200px
background-position: 50% 10% , 100% 95% 
name: about-bitss

&lt;style&gt;

.center2 {
  margin: 0;
  position: absolute;
  top: 50%;
  left: 50%;
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}


pre.sourceCode {
    max-height: 200px;
    overflow-y: auto;
}


/*
.remark-slide-number {
  position: inherit;
}

.remark-slide-number .progress-bar-container {
  position: absolute;
  bottom: 0;
  height: 4px;
  display: block;
  left: 0;
  right: 0;
}

.remark-slide-number .progress-bar {
  height: 100%;
  background-color: blue;
}
*/
&lt;/style&gt;



&lt;style type="text/css"&gt;
# CSS for including pauses in printed PDF output (see bottom of lecture)
@media print {
  .has-continuation {
    display: block !important;
  }
}

&lt;/style&gt;





# Credits
  
  


.pull-left[
&lt;br&gt;&lt;br&gt;

**Core BITSS Team**  
Aleks Bogdanoski  
Fernando Hoces de la Guardia   
Katie Hoeberling  
Teng Aleksandra Ma  
Edward Miguel 
 
**Undergraduate RAs**  
Sophia Bai  
Orianna Jia  
 
]
.pull-right[ .right[

 &lt;br&gt;&lt;br&gt;
Keanu Lim  
Charles Love  
Emma Ng  
Ryan Scholes  
Jiayu Shi 

**Evidence Action**  
Grace Hollister  
Grace Morgan

[BITSS](https://bitss.org) is part of the Center   
for Effective Global Action ([CEGA](https://cega.berkeley.edu/)).   
  ]]
 


---
count: false
# Table of Contents 
&lt;/br&gt;
.font130[

1. [Introduction](#introduction)

2. [Demo](#demo)

3. [Lessons](#lessons)

]

---
count: false
# Table of Contents 
&lt;/br&gt;
.font130[

1. [**Introduction**](#introduction)

2. [Demo](#demo)

3. [Lessons](#lessons)

]
 
---
name: motivation
background-image: url("Images/alternative-facts-crowd.png")
background-size: 800px
background-position: 0% 0% 



# Motivation: Rise of Alternative Facts

.pull-right[
&lt;br&gt;
&lt;iframe width="360" height="250" src="https://www.youtube.com/embed/rV_YxKOE90g?start=188" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;


*Interviewer:* “We I have looked at what economist are saying, and [...] there is no measurable evidence that people are staying at home because of [$600 unemp. insurance]” 

*Congressman:* “[scoffs] I don’t know which economist you are talking about, but ...” 
]

---

# Possible Mechanism: Opaqueness of Policy Analysis

.font130[
- Incredible Certitudes (Manski, [2011](https://academic.oup.com/ej/article-abstract/121/554/F261/5079436))  

- Report wars (Wesselink et al, [2013](https://www.sciencedirect.com/science/article/abs/pii/S1462901112002365))

- Low overall credibility of PA &amp;#8594; credibility based on reputation ("serious") &amp;#8594; assignment of reputation varies across political positions
]
--
.font130[
- Parallels to "Reproducibility Crisis" and Open Science reponse (Hoces de la Guardia, Grant, Miguel [2020](https://academic.oup.com/spp/advance-article/doi/10.1093/scipol/scaa067/6018524?guestAccessKey=ac30d681-5391-4f91-b4d8-44c6aed11161)). Propose:  
  - Core principles for Open Policy Analysis (OPA) in outputs, analysis and materials (reproducibility)
  - Agenda to implement and document how OPA can be applied into several policy issues
 
- Growing adoption of open science methods into policy analysis 
]

---

# Deworming Interventions   
 - Parasitic worm infections are endemic in many countries, disproportionately affecting the poor  
 - They interfere with regular bodily processes by decreasing nutrient uptake and can thus lead to serious consequences on human health, education outcomes, and long-term economic well being  
 - Mass deworming interventions, at school level, have been propose as a cost-effective approach to tackle this problem

--
 
## Different settings for deworming  
- Context of original study (Kenya, 1998-99) had very high prevalence rates of worm infections
- Implementation costs where very low ($0.42 per round of treatment)
- Length of treatment was relatively short (2.4 years)
- Current deworming settings have with lower prevalnce rates, 
varying implementation costs and length of treatments

--

## Strong debate around initial results  
- Ozier ([2020](https://academic.oup.com/wbro/advance-article/doi/10.1093/wbro/lkaa005/6009048)) summarizes differences between original findings (Miguel and Kremer 2004) and a re-analysis (Aiken et al, 2015). Emphazises the role of communication of results in a reanalysis. 
- This type of debate (result/re-analysis) can be seen in several other topics. For example: minimum wage, inmigration, taxation. 
- OPA need not guarante agreement on key research finding, but should help avoid multiple policy reports

---
background-image: url(Images/opa_framework.svg)
background-size: 800px
background-position: 60% 0%
count:true
  
# A Framework for Open Policy Analysis
.pull-left[
Hoces de la Guardia,  
Grant, Miguel ([2020](https://academic.oup.com/spp/advance-article/doi/10.1093/scipol/scaa067/6018524?guestAccessKey=ac30d681-5391-4f91-b4d8-44c6aed11161))
]
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
## Contributions of OPA to deworming:  
  1. Selected one policy estimate among several alternatives and establish a clear link between it and underlying assumptions 
  2. Added documentation to increase reproducibility 
  3. Created a public repository with all materials for one-click reproducibility 

---
count: false
# Table of Contents 
&lt;/br&gt;
.font130[

1. [Introduction](#introduction)

2. [**Demo**](#demo)

3. [Lessons](#lessons)

]

???
write notes here

---
background-image: url(Images/dw-open-out1.png), url(Images/dw-open-out2.png), url(Images/dw-open-out3.png), url(Images/open_output_all.svg)  
background-size: 500px, 500px, 500px, 100px
background-position: 100% 80%, 70% 40%, 40% 0%, 15% 5%  
# Open Output

.pull-left[
## [Demo](https://fhoces.shinyapps.io/shiny_app_test/)

&lt;br&gt;
## Main features
- One clear output  
previously agreed in   
consultation with  
policy partner
- Two additional tabs to modify assumptions  
(key assumptions and all assumptions)
- Each source is classified into research,   
data, or guesswork
- High level equations added to illustrate location of components
- Added feature to modify standard deviations
- Track values of each component


]

---
background-image: url(Images/dw-open-an2.png), url(Images/dw-open-an1.png), url(Images/open_analysis.svg)   
background-size: 400px, 400px, 100px
background-position: 100% 100%, 70% 0%, 15% 5%
# Open Analysis

.pull-left[
## [Demo](https://rpubs.com/fhoces/547979)
&lt;br&gt;
## Main features
- Complete narrative description of the methodology
- Translation of each narrative step into an equation
- Implementation of each equation into code
- Combine all of the above into using a dynamic document (RMarkdown)
- Presentation of narrative, equations, and code in layered fashion to avoid overwhelming the reader
Icon figure  

]

---
background-image: url(Images/dw-open-mat2.png), url(Images/dw-open-mat1.png), url(Images/open_materials.svg)  
background-size: 600px, 600px, 100px
background-position: 100% 100%, 70% 0%, 15% 5%
# Open Materials

.pull-left[
## [Demo](https://github.com/BITSS-OPA/opa-deworming)
&lt;br&gt;
## Main features
- One-click reproducible   
documentation and app
- Extensive readme files
- Clear folder structure
- Version controlled
- Open data
- Acknowledgment to all contributors

]

---
background-image: url(Images/dw-nopen-out2.png), url(Images/dw-nopen-out3.png)
background-size: 800px, 800px
background-position: 90% 00%, 90% 100%
# What happens if one principle fails: Opaque Output

.pull-left[
- Policy estimates of approach 2   
of deworming (Baird et al, 2016)
- Assume Open Analysis and   
Open Materials
- Good for researchers 
- Unclear for policy analysts
- Allows policy makers to  
cherry pick results
- Does not disclose uncertainty
- Unclear separation of roles  
between policy analyst and   
policy maker (Truman's request  
for a "one-handed" economist)
]

---

# Opaque Analysis/Materials
&lt;br&gt;
.font140[
-  Assume open output and open materials  
-  In this scenario we can have two policy analyses: one from advocates and one from opponents
-  Each analysis can claim to be open source. Code is available, reproducible, and each as an interactive app. 
-  But each analysis can bury in their code analytical choices that move the final policy estimate in their favor
-  Same though exercise can be done with opaque materials
]

---

count: false
# Table of Contents 
&lt;/br&gt;
.font130[

1. [Introduction](#introduction)

2. [Demo](#demo)

3. [**Lessons**](#lessons)

]

???
write notes here

---

# Useful practices developed during the project

&lt;br&gt;
.font120[
## Documentation of analysis and app are connected
- Each analytic step is declared in the documentation and wrapped in a function
- All this steps are used to produce the results in the documentation
- The steps are also stored in a file that is later sourced in the app. 
- If something changes in the report, it will update the app. 

## Style guide 
- Group objects according to use: only within the documentation, for simulations, and for the app
- Use diagram trees to depict nested relationships
]
---


# Lessons for future OPA projects: Timeline
.font110[
1. Reviewed existing documentation  
2. Review code/spreadsheets and write down missing documentation. 
3. Add equations to reflect any additional clarifying steps. 
4. Translate analysis to code scripts (ideally open source software)  
5. Check for computational reproducibility and consult with original analysts for discrepancies/further questions
6. Discuss with policy partner on target policy estimate
7. Draft doodle of app 
8. Incorporate any potential new analysis (repeat steps 1 - 3) 
9. Present draft of OPA (DD and doodle of app) to policy partner
10. Incorporate comments into documentation of the OPA
11. Build app based on analysis of dynamic document 
12. Incorporate any additional features requested by policy partner
13. Verify that all three components produce the same output
14. Publish v1.0
]
---
# Lessons for future OPA projects: Costs

- Costs (approx bandwidth over a year at full time): 
 - Principal Investigator 30-50% 
 - Research assistant/programmer 100-150% 
 - Program Manager 20%-30% 
 - Original researcher: 1-5%
 
- Not all policy analysis justify this level of effort
 
- Characteristics that might justify an OPA: 
 - Topics with strong disagreement on the facts among analysts 
 - Recurrent reports (eg. ex-ante economic analysis from development banks/agencies)
 - Topics that have large expected welfare effects (eg. tax reform, social cost of carbon)
 
- With each new OPA project, templates will emerge and costs will likely fall  

---

# Additional Benefits of OPA 

## Easy to update or reuse  
After deworming OPA is released, anybody can modify and improve into a newer version  

## Clearer connection of how evidence from research is used in policy analysis
Researchers can see clearly where their estimates are being used in a policy analysis. For example, the OPA can be used to justify power calculations of potential new studies. 

## Connection with forecasting
When there is little information for a parameter used in an OPA, a forecasting exercise can be carried out to elicit expert knowledge (DellaVigna, Pope, Vivalt [2019](https://science.sciencemag.org/content/366/6464/428.summary)).
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
